---
import type { User } from '@utils/types'
import NewPostForm from '@components/NewPostForm'

type Props = {
  user?: User
}

const { user } = Astro.props as Props
---

{
  user ? (
    <NewPostForm user={user} client:load />
  ) : (
    <div class="new-post-form guest">
      <div class="auth-prompt">
        <h2>Share your thoughts</h2>
        <p>Sign in to create posts and join the conversation.</p>
        <div class="form-actions">
          <a class="button" href="/login">
            Sign in
          </a>
          <a class="button secondary" href="/register">
            Create account
          </a>
        </div>
      </div>
    </div>
  )
}
