---
import { getCurrentUserFromAstro } from '../utils/auth.ts';
import UserProfileDropdown from './react/UserProfileDropdown.tsx';

const user = await getCurrentUserFromAstro(Astro.cookies);
---

<header>
  <div class="header-content container">
    <a class="header-logo" href="/">
      <img src="/images/blink-logo.svg" alt="BLINK Logo" />
    </a>
    <nav>
      {user ? (
        <UserProfileDropdown user={user} client:load />
      ) : (
        <a class="button" href="/login">Sign in</a>
      )}
    </nav>
  </div>
</header>